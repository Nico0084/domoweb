<link rel="import" href="/polymer/polymer.html">
<link rel="import" href="/components/websockets.html">

<polymer-element name="dmww-navigation-sectionTitle">
	<template>
	    <web-socket id="socket" on-websocket-message="{{messageReceived}}"></web-socket>
		<span id='sectiontitle'>{{title}}</span>
	</template>
	<script>  
		Polymer('dmww-navigation-sectionTitle', {
			title: "",
			ready: function() {
				this.title = "Loading";
				var socket = this.$.socket;
				document.addEventListener('websocket-ready', function() {
					var msg = {action:'section-get', data: {id:1}};
		        	socket.send(JSON.stringify(msg));
    			});	
			},
			messageReceived: function(e, detail, sender) {
		        this.title = detail[1].name;
		    },
		});
	</script>
</polymer-element>