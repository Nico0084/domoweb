<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	<h1 class="modal-title" id="myModalLabel">Select Widget</h1>
</div>
<div class="modal-body">
	{% for widget in widgets %}
        {% block widget %}
          <button class="addWidget" data-widget-id="{{ widget.id }}" data-widget-width="{{ widget.width }}" data-widget-height="{{ widget.height }}">{{ escape(widget.set_name) }} - {{ escape(widget.name) }}</button>
        {% end %}
     {% end %}
</div>
<div class="modal-footer">
	<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
</div>
<script>
	$('.addWidget').on('click', function(event) {
		appendWidget(this.dataset.widgetId, this.dataset.widgetWidth, this.dataset.widgetHeight);

		event.preventDefault(); // To prevent following the link (optional)
	});
	function appendWidget(id, width, height) {
		var item = '<div class="item" data-width="' + (width*100) + '" data-height="' + (height*100) + '">Test ' + id + '</div>';
		wall.appendBlock(item);
	}
</script>