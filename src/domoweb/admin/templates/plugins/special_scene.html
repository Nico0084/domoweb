{% load i18n %}
<script type='text/javascript'>
    $(function(){
        rinor.get(['api', 'feature'])
            .done(function(data, status, xhr){
                $.each(data.objects, function(index, object) {
                    var group = $("optgroup#" + object.device_id).first();
                    if (group.length == 0) {
                        group = $("<optgroup id='" + object.device_id + "' label='[" + object.device.device_type_id + "] " + object.device.name + "'></optgroup>");
                        $("select#features1").append(group);
                    }                    
                    group.append("<option value='" + object.id + "'>" + object.device_feature_model.name + "</option>");
                });
                $("select#features2").append($("select#features1").clone.html());
                $("select.features").chosen();
            })
            .fail(function(jqXHR, status, error){
                if (jqXHR.status == 400)
                    $.notification('error', '{% trans "Device list not retrieved" %} (' + jqXHR.responseText + ')');
            });
    });

</script>
<section class="subsection">
    <h2>{% trans "Created Scene" %}</h2>
    <select id="features1" class='features' style="width:20em;"></select>
    <select id="test1" style="width:10em;"></select>
    <select id="value1" style="width:20em;"></select>
    </p>
    <select id="TestFeature" style="width:10em;"></select>
    </p>
    <select id="features2" class='features' style="width:20em;"></select>
    <select id="test2" style="width:10em;"></select>
    <select id="value2" style="width:20em;"></select>
    </p>
    <h3>{% trans "If True" %}</h3>
    <select id="sortieVrai" style="width:20em;"></select>
    <select id="valueVrai" style="width:20em;"></select>
    <h3>{% trans "If Wrong" %}</h3>
    <select id="sortieFaux" style="width:20em;"></select>
    <select id="valueFaux" style="width:20em;"></select>



    <p>Rinor Url :{{ request.session.rinor_ip }}:{{ request.session.rinor_port }}</p> 
</section>
