{% load i18n %}
<script type='text/javascript'>
	var tableau = new Array();
function delscene(number) {
    alert(tableau[number]+ ' was delete')
};
function startscene(number) {
    alert(tableau[number]+ ' was start')
};
function stopscene(number) {
    alert(tableau[number]+ ' was stop')
};

  $(function(){

   $(document).ready(function(){
        var i=1;
        rinor.get(['api', 'feature'])
            .done(function(data, status, xhr){
                $.each(data.objects, function(index, object) {
  //tableau[i]=[object.device_id,object.device_feature_model.stat_key,object.device.device_type_id,object.device_feature_model.value_type,object.device.address,object.device_feature_model.parameters,object.device_feature_model.name,object.device.name];
                   if(object.device_feature_model.id=='scene.stat.status'){
                    i++;
                    tableau[i] = object.device.address;
                    matabme = "<tr class='scenetabrow' id='device_iRef'><td>" + object.device.name +"</td><td>"+object.device.description +"</td><td><input type='button' onClick='startscene(iRef)'/></td><td><input type='button' onClick='stopscene(iRef)'/></td><td><input type='button' onClick='delscene(iRef)'/></td></tr>"
                    $('#Scene_table').append(matabme.replace(/iRef/g, i));
                    }
                    });
           })
            .fail(function(jqXHR, status, error){
                if (jqXHR.status == 400)
                    $.notification('error', '{% trans 'Device list not retrieved' %} (' + jqXHR.responseText + ')');
            });


    });
    });


</script>
<section class="subsection">
    <h2>{% trans "Manage Scene" %}</h2>
 
 <table id='Scene_table'>
   <tr>
       <td> Name </td>
       <td> Description </td>
       <td> Start </td>
       <td> Stop </td>
       <td> Delete </td>
   </tr>
</table>


</section>

